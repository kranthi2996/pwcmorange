"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatCounts = formatCounts;
const TextBuilder_1 = require("../TextBuilder");
const utils_1 = require("../utils");
function formatCounts(suffix, counts, theme, stream) {
    const builder = new TextBuilder_1.TextBuilder(stream);
    const total = Object.values(counts).reduce((prev, curr) => prev + curr, 0);
    builder.append(`${total} ${suffix}`);
    if (total > 0) {
        let first = true;
        builder.append(' (');
        for (const status of utils_1.ORDERED_STATUSES) {
            const count = counts[status];
            if (count) {
                if (!first) {
                    builder.append(', ');
                }
                builder.append(`${count} ${status.toLowerCase()}`, theme.status?.all?.[status]);
                first = false;
            }
        }
        builder.append(')');
    }
    return builder.build();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0Q291bnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Zvcm1hdHRpbmcvZm9ybWF0Q291bnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsb0NBeUJDO0FBN0JELGdEQUE0QztBQUU1QyxvQ0FBMkM7QUFFM0MsU0FBZ0IsWUFBWSxDQUMxQixNQUFjLEVBQ2QsTUFBcUQsRUFDckQsS0FBWSxFQUNaLE1BQTZCO0lBRTdCLE1BQU0sT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUN2QyxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDMUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssSUFBSSxNQUFNLEVBQUUsQ0FBQyxDQUFBO0lBQ3BDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2QsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFBO1FBQ2hCLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDcEIsS0FBSyxNQUFNLE1BQU0sSUFBSSx3QkFBZ0IsRUFBRSxDQUFDO1lBQ3RDLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUM1QixJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUNWLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDWCxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUN0QixDQUFDO2dCQUNELE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFBO2dCQUMvRSxLQUFLLEdBQUcsS0FBSyxDQUFBO1lBQ2YsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3JCLENBQUM7SUFDRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQTtBQUN4QixDQUFDIn0=